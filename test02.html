<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jay Shri Ram Coaching Center - Exam System</title>
    <style>
        :root {
            /* Theme Colors - Saffron/Orange Mix for JSR Theme */
            --primary-color: #ff6d00; /* Deep Saffron */
            --primary-dark: #e65100;
            --secondary-color: #263238; /* Dark Slate for contrast */
            --bg-body: #fff3e0; /* Light Orange Tint */
            --bg-sidebar: #fff;
            --text-main: #3e2723;
            --text-light: #5d4037;
            --accent: #ff3d00;
            --success: #2e7d32;
            --danger: #c62828;
            --warning: #ff8f00;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Poppins', 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- Screens --- */
        .screen { display: none; width: 100%; height: 100%; position: relative; }
        .screen.active { display: flex; flex-direction: column; animation: fadeIn 0.4s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- 1. Login Screen --- */
        #login-screen {
            background: linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%);
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        /* Background Pattern Decoration */
        #login-screen::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background-image: radial-gradient(var(--primary-color) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0.1;
            pointer-events: none;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.98);
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 480px;
            box-shadow: 0 20px 60px rgba(255, 109, 0, 0.15);
            text-align: center;
            border-top: 6px solid var(--primary-color);
            position: relative;
            z-index: 2;
        }

        .coaching-logo {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #ff9800, #ff5722);
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(255, 87, 34, 0.3);
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 45px;
            color: white;
        }

        .brand-title {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(to right, #e65100, #ff6d00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 0 0 5px 0;
            letter-spacing: 0.5px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .form-control {
            width: 100%;
            padding: 14px;
            margin: 10px 0;
            border: 2px solid #ffe0b2;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
            background: #fffbf5;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(255, 109, 0, 0.1);
        }

        .btn {
            padding: 14px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
            color: white;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .btn-primary { 
            background: linear-gradient(to right, #ff6d00, #ff3d00); 
            width: 100%; 
        }
        .btn-primary:hover { 
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(255, 61, 0, 0.3);
        }
        .btn-success { background: var(--success); }
        .btn-nav { background: #fff; color: var(--text-main); border: 1px solid #d7ccc8; }
        .btn-nav:hover { background: #efebe9; }

        .one-time-warning {
            margin-top: 15px;
            background: #ffebee;
            color: #c62828;
            padding: 10px;
            border-radius: 8px;
            font-size: 0.85rem;
            border: 1px solid #ffcdd2;
            display: flex;
            align-items: center;
            gap: 8px;
            text-align: left;
        }

        .reset-link {
            display: none; /* Hidden as requested */
        }

        /* --- 2. Exam Interface --- */
        .cbt-header {
            background: white;
            color: var(--text-main);
            height: 65px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            z-index: 100;
            border-bottom: 3px solid var(--primary-color);
        }
        
        .header-brand {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #fff3e0;
            padding: 5px 15px;
            border-radius: 30px;
            border: 1px solid #ffe0b2;
        }

        .main-layout {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative; /* For watermark absolute positioning */
        }

        /* Question Area */
        .question-container {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #fff8e1; /* Very light cream */
            position: relative;
            z-index: 5;
        }

        /* Watermark Style */
        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            background-image: url('https://cdn-icons-png.flaticon.com/512/4042/4042330.png'); /* Ram/Archer Icon */
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            opacity: 0.08; /* Very Light */
            pointer-events: none;
            z-index: 0;
            filter: grayscale(100%) sepia(100%) hue-rotate(320deg) saturate(500%); /* Orange tint */
        }

        .question-card {
            background: rgba(255, 255, 255, 0.95); /* Slight transparency */
            border-radius: 15px;
            box-shadow: var(--shadow);
            padding: 35px;
            max-width: 950px;
            margin: 0 auto;
            border-top: 5px solid var(--primary-color);
            position: relative;
            z-index: 10;
        }

        .q-header {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid #fbe9e7;
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-size: 0.95rem;
            color: #795548;
            font-weight: 600;
        }

        .q-text {
            font-size: 1.45rem;
            margin-bottom: 30px;
            line-height: 1.6;
            color: #3e2723;
            font-family: 'Segoe UI', sans-serif;
        }

        /* Special Math Styling Classes */
        .math-expr {
            font-family: 'Times New Roman', serif;
            font-style: italic;
            background: #fff3e0;
            padding: 5px 12px;
            border-radius: 6px;
            display: inline-block;
            border: 1px solid #ffe0b2;
            color: #d84315;
            font-weight: bold;
        }
        
        .frac {
            display: inline-block;
            position: relative;
            vertical-align: middle;
            letter-spacing: 0.001em;
            text-align: center;
        }
        .frac > span {
            display: block;
            padding: 0.1em;
        }
        .frac span.bottom {
            border-top: 1.5px solid #3e2723;
        }
        .frac span.symbol {
            display: none;
        } 
        
        .sqrt-symbol {
            font-size: 1.2em;
        }
        .sqrt-line {
            border-top: 1.5px solid #3e2723;
            padding-top: 1px;
        }

        .option {
            padding: 18px;
            border: 2px solid #efebe9;
            border-radius: 12px;
            margin-bottom: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.2s;
            background: white;
            font-size: 1.1rem;
            color: #4e342e;
        }

        .option:hover { 
            background: #fff3e0; 
            border-color: var(--primary-color); 
        }
        .option.selected { 
            background: #ffe0b2; 
            border-color: var(--primary-color); 
            font-weight: 600;
        }
        
        /* Review Mode Colors */
        .review-mode .option.correct { background: #e8f5e9; border-color: var(--success); color: #1b5e20; }
        .review-mode .option.wrong { background: #ffebee; border-color: var(--danger); color: #b71c1c; }

        /* Sidebar Palette */
        .sidebar {
            width: 320px;
            background: white;
            border-left: 1px solid #ffe0b2;
            display: flex;
            flex-direction: column;
            z-index: 50;
            box-shadow: -5px 0 15px rgba(0,0,0,0.05);
        }

        .timer-box {
            background: #37474f;
            color: #ffab00;
            padding: 15px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: 700;
            font-family: monospace;
            box-shadow: inset 0 -2px 5px rgba(0,0,0,0.2);
        }

        .palette-area {
            flex: 1;
            overflow-y: auto;
            padding: 15px;
        }

        .palette-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .pal-btn {
            aspect-ratio: 1;
            border: 1px solid #e0e0e0;
            background: #f5f5f5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            cursor: pointer;
            border-radius: 8px;
            font-weight: 600;
            color: #616161;
            transition: all 0.2s;
        }

        .pal-btn:hover { background: #e0e0e0; }
        .pal-btn.active { border: 2px solid var(--primary-color); background: #fff3e0; color: var(--primary-dark); transform: scale(1.1); }
        .pal-btn.answered { background: var(--success); color: white; border-color: var(--success); } 
        .pal-btn.reviewed { background: #7e57c2; color: white; }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .main-layout { flex-direction: column; }
            .sidebar { width: 100%; height: auto; order: -1; }
            .palette-area { display: none; }
            .sidebar.expanded .palette-area { display: block; height: 300px; }
            .timer-box { padding: 10px; font-size: 1.2rem; display: flex; justify-content: space-between; align-items: center; }
            .toggle-pal { display: block !important; font-size: 0.8rem; background: rgba(255,255,255,0.1); padding: 5px; cursor: pointer; color: white; border-radius: 4px; }
        }

        /* --- Report Card --- */
        #report-screen { background: #eceff1; overflow-y: auto; padding: 20px; }
        .report-paper {
            background: white;
            max-width: 800px;
            margin: 0 auto;
            padding: 50px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            position: relative;
            border-radius: 12px;
            border: 1px solid #e0e0e0;
        }
        .coaching-header {
            text-align: center;
            border-bottom: 3px double var(--primary-color);
            padding-bottom: 25px;
            margin-bottom: 30px;
        }

        /* Stats Grid in Report */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 30px;
            margin-bottom: 30px;
        }
        .stat-box {
            background: #fafafa;
            border: 1px solid #eee;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        .stat-val { font-size: 1.5rem; font-weight: bold; display: block; }
        .stat-lbl { font-size: 0.9rem; color: #666; }
        .stat-correct .stat-val { color: var(--success); }
        .stat-wrong .stat-val { color: var(--danger); }
        .stat-skip .stat-val { color: #f57c00; }

        /* Generic Avatar Style */
        .generic-avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: #bdbdbd;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            border: 2px solid white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>

    <!-- 1. LOGIN SCREEN -->
    <div id="login-screen" class="screen active">
        <div class="login-card">
            <!-- New Attractive Logo -->
            <div class="coaching-logo">üìñ</div>
            
            <h2 class="brand-title">‡§ú‡§Ø ‡§∂‡•ç‡§∞‡•Ä ‡§∞‡§æ‡§Æ ‡§ï‡•ã‡§ö‡§ø‡§Ç‡§ó ‡§∏‡•á‡§Ç‡§ü‡§∞</h2>
            <p style="color: #795548; font-weight: 500;">Agniveer (Indian Army GD) ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ</p>
            
            <div style="text-align: left; margin-top: 30px;">
                <label style="font-weight: 600; color: #5d4037;">‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ (Candidate)</label>
                <select id="user-select" class="form-control">
                    <option value="">-- ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç --</option>
                    <option value="ram">Gaurav kumar (Reg: 210045)</option>
                    <option value="sham">Sham Singh (Reg: 210046)</option>
                </select>

                <label style="font-weight: 600; color: #5d4037; margin-top: 15px; display: block;">‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° (Password)</label>
                <input type="password" id="password-input" class="form-control" placeholder="‡§Ö‡§™‡§®‡§æ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç">
            </div>

            <button class="btn btn-primary" onclick="attemptLogin()" style="margin-top: 20px; font-size: 1.1rem;">
                ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç (Login & Start) ‚ûú
            </button>

            <!-- Warning Message -->
            <div class="one-time-warning">
                <span style="font-size: 1.2rem;">‚ö†Ô∏è</span>
                <span><b>‡§∏‡§æ‡§µ‡§ß‡§æ‡§®:</b> ‡§Ü‡§™ ‡§á‡§∏ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡•ã ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§π‡•Ä ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§¶‡•ã‡§¨‡§æ‡§∞‡§æ ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§≤‡•â‡§ó‡§ø‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•ã‡§ó‡§æ‡•§</span>
            </div>
        </div>
    </div>

    <!-- 2. INSTRUCTIONS -->
    <div id="instruction-screen" class="screen" style="background: white; align-items: center; justify-content: center;">
        <div style="max-width: 800px; width: 95%; padding: 40px; box-shadow: var(--shadow); background: #fffbf5; border-radius: 12px; border: 1px solid #ffe0b2;">
            <div style="display: flex; gap: 20px; align-items: center; border-bottom: 2px dashed #ffe0b2; padding-bottom: 20px;">
                <!-- Generic Icon -->
                <div style="width: 70px; height: 70px;">
                    <div class="generic-avatar" style="background: var(--primary-color); font-size: 2rem;">üë§</div>
                </div>
                <div>
                    <h2 style="margin: 0; color: var(--primary-dark);">‡§ú‡§Ø ‡§∂‡•ç‡§∞‡•Ä ‡§∞‡§æ‡§Æ ‡§ï‡•ã‡§ö‡§ø‡§Ç‡§ó ‡§∏‡•á‡§Ç‡§ü‡§∞</h2>
                    <p style="margin: 5px 0; color: #5d4037;"> Agniveer (Indian Army GD) Special Test</p>
                    <p style="margin: 0; font-weight: bold; color: var(--primary-color);" id="inst-name">Candidate Name</p>
                </div>
            </div>
            
            <div style="margin: 20px 0; height: 250px; overflow-y: auto; background: white; padding: 25px; border-radius: 8px; border: 1px solid #eee;">
                <h4 style="color: var(--primary-dark); border-bottom: 2px solid #eee; padding-bottom: 10px;">‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂:</h4>
                <ul style="line-height: 1.8; color: #4e342e;">
                    <li><strong>‡§ï‡•Å‡§≤ ‡§∏‡§Æ‡§Ø:</strong> 60 ‡§Æ‡§ø‡§®‡§ü (Agniveer (Indian Army GD)).</li>
                    <li><strong>‡§ï‡•Å‡§≤ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®:</strong> 50.</li>
                    <li><strong>‡§Ö‡§Ç‡§ï‡§®:</strong> ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è <span style="color:green; font-weight:bold;">+2 ‡§Ö‡§Ç‡§ï</span>‡•§</li>
                    <li><strong>‡§®‡•á‡§ó‡•á‡§ü‡§ø‡§µ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§ø‡§Ç‡§ó:</strong> ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è <span style="color:red; font-weight:bold;">-0.5 ‡§Ö‡§Ç‡§ï</span> ‡§ï‡§ü‡•á‡§Ç‡§ó‡•á‡•§</li>
                    <li><strong>‡§ö‡•á‡§§‡§æ‡§µ‡§®‡•Ä:</strong> ‡§Ø‡§π ‡§ü‡•á‡§∏‡•ç‡§ü ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§π‡•à‡•§</li>
                </ul>
                <p><strong>‡§®‡•ã‡§ü:</strong> ‡§∏‡§≠‡•Ä ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§â‡§ö‡•ç‡§ö ‡§∏‡•ç‡§§‡§∞‡•Ä‡§Ø (Mains Level) ‡§π‡•à‡§Ç‡•§</p>
            </div>

            <div style="display: flex; gap: 10px; align-items: center;">
                <input type="checkbox" id="agree-chk">
                <label for="agree-chk" style="font-weight: 500; color: #3e2723;">‡§Æ‡•à‡§Ç‡§®‡•á ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂ ‡§ß‡•ç‡§Ø‡§æ‡§®‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§™‡§¢‡§º ‡§≤‡§ø‡§è ‡§π‡•à‡§Ç‡•§</label>
            </div>
            <button class="btn btn-primary" onclick="startExam()" style="margin-top: 20px;">‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç</button>
        </div>
    </div>

    <!-- 3. EXAM SCREEN -->
    <div id="quiz-screen" class="screen">
        <header class="cbt-header">
            <div class="header-brand">
                <span style="font-size: 1.5rem;">üìñ</span>
                <span>‡§ú‡§Ø ‡§∂‡•ç‡§∞‡•Ä ‡§∞‡§æ‡§Æ ‡§ï‡•ã‡§ö‡§ø‡§Ç‡§ó - MATHS</span>
            </div>
            <div class="profile-section">
                <span id="header-name" style="font-size: 0.9rem; font-weight: 600; color: #5d4037;">Candidate</span>
                <div style="width: 32px; height: 32px; margin-left: 10px;">
                    <div class="generic-avatar" style="font-size: 1rem; background: #ff9800;">üë§</div>
                </div>
            </div>
        </header>

        <div class="main-layout">
            <!-- Left: Question -->
            <div class="question-container" id="q-container">
                <!-- Watermark Added Here -->
                <div class="watermark"></div>

                <div class="question-card">
                    <div class="q-header">
                        <span>‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ <span id="q-num" style="color: var(--primary-dark); font-size: 1.2rem; font-weight: bold;">1</span></span>
                        <span id="q-section" style="background: #fff3e0; padding: 4px 12px; border-radius: 20px; color: var(--primary-dark); font-weight: bold;">Number System</span>
                    </div>

                    <div class="q-text" id="q-text">Loading Question...</div>

                    <div id="options-area">
                        <!-- Options generated here -->
                    </div>

                    <!-- Explanation (Hidden) -->
                    <div id="explanation-box" style="display: none; background: #fffde7; padding: 20px; margin-top: 20px; border-left: 5px solid #fbc02d; color: #3e2723; border-radius: 8px;"></div>

                    <div style="margin-top: 30px; display: flex; justify-content: space-between;">
                        <button class="btn btn-nav" id="prev-btn" onclick="navQuestion(-1)" disabled>‡§™‡§ø‡§õ‡§≤‡§æ (Prev)</button>
                        <div>
                            <button class="btn btn-primary" id="save-btn" onclick="saveAndNext()">Save & Next</button>
                            <button class="btn btn-success" id="submit-btn" onclick="submitExam()" style="display: none;">Submit Exam</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="timer-box">
                    <span style="font-size: 0.9rem; color: #b0bec5; display: none;" class="toggle-pal" onclick="togglePalette()">‚ò∞ Palette</span>
                    <span id="timer">15:00</span>
                </div>
                <div class="palette-area">
                    <div style="font-size: 0.8rem; margin-bottom: 15px; color: #5d4037; font-weight: bold; border-bottom: 1px solid #eee; padding-bottom: 5px;">QUESTION PALETTE</div>
                    <div class="palette-grid" id="palette-grid">
                        <!-- Buttons -->
                    </div>
                    
                    <div style="margin-top: 20px; font-size: 0.75rem; border-top: 1px solid #eee; padding-top: 15px;">
                        <div style="margin-bottom: 8px;"><span style="display:inline-block;width:12px;height:12px;background:var(--success);border-radius:2px;margin-right:5px;"></span> Answered</div>
                        <div style="margin-bottom: 8px;"><span style="display:inline-block;width:12px;height:12px;background:#f5f5f5;border:1px solid #ccc;border-radius:2px;margin-right:5px;"></span> Not Visited</div>
                        <div><span style="display:inline-block;width:12px;height:12px;background:var(--primary-color);border-radius:2px;margin-right:5px;"></span> Current</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 4. REPORT CARD -->
    <div id="report-screen" class="screen">
        <div class="report-paper">
            <div class="coaching-header">
                <!-- Attractive Logo for Report Card -->
                <div style="width: 80px; height: 80px; background: var(--primary-color); color: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 40px; margin: 0 auto 15px auto; box-shadow: 0 4px 10px rgba(0,0,0,0.2);">üìñ</div>
                
                <h1 style="margin: 0; color: var(--primary-dark); font-size: 2rem;">‡§ú‡§Ø ‡§∂‡•ç‡§∞‡•Ä ‡§∞‡§æ‡§Æ ‡§ï‡•ã‡§ö‡§ø‡§Ç‡§ó ‡§∏‡•á‡§Ç‡§ü‡§∞</h1>
                <p style="letter-spacing: 2px; color: #5d4037; font-weight: bold; margin-top: 5px;">OFFICIAL SCORE CARD</p>
            </div>

            <div style="display: grid; grid-template-columns: 100px 1fr; gap: 20px; background: #fff8e1; padding: 25px; border-radius: 12px; align-items: center; border: 1px solid #ffe0b2;">
                <!-- Generic Icon in Report -->
                <div style="width: 90px; height: 90px;">
                    <div class="generic-avatar" style="background: #5d4037; font-size: 2.5rem;">üë§</div>
                </div>
                <div>
                    <h3 id="rep-name" style="margin: 0; color: #3e2723;">Name: Candidate</h3>
                    <p id="rep-roll" style="color: #5d4037;">Roll No: 210045</p>
                    <p style="color: #5d4037;">Exam Date: <span id="exam-date"></span></p>
                    <p style="color: #5d4037;">Subject: Number System (Maths)</p>
                </div>
            </div>

            <!-- Stats Breakdown -->
            <div class="stats-grid">
                <div class="stat-box stat-correct">
                    <span class="stat-val" id="res-correct">0</span>
                    <span class="stat-lbl">Correct</span>
                </div>
                <div class="stat-box stat-wrong">
                    <span class="stat-val" id="res-wrong">0</span>
                    <span class="stat-lbl">Wrong</span>
                </div>
                <div class="stat-box stat-skip">
                    <span class="stat-val" id="res-skip">0</span>
                    <span class="stat-lbl">Skipped</span>
                </div>
            </div>

            <div style="margin-top: 10px; text-align: center;">
                <div style="font-size: 4.5rem; font-weight: 800; color: var(--primary-color); line-height: 1; text-shadow: 2px 2px 0px #eee;">
                    <span id="final-score">0</span><span style="font-size: 2rem; color: #90a4ae;">/5</span>
                </div>
                <div style="font-weight: bold; margin-top: 10px; color: #5d4037; letter-spacing: 1px;">FINAL SCORE (With Neg. Marking)</div>
            </div>

            <div style="margin-top: 50px; display: flex; justify-content: center; gap: 15px;" class="no-print">
                <button class="btn btn-nav" onclick="reviewSolutions()">üîç View Solutions</button>
                <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print Result</button>
            </div>
            
            <button class="btn" style="background:transparent; color:red; width:100%; margin-top:20px;" onclick="location.reload()">Exit System</button>
        </div>
    </div>

    <script>
        // --- 1. DATA GENERATION (Math Questions) ---
        
        // Agniveer GD Full Mock Test Data (50 Questions)
const generateQuestions = () => {
    return [
        // --- SECTION 1: GENERAL KNOWLEDGE (GK) [Q 1-15] ---
        {
            id: 1, type: "GK",
            q: `‡§µ‡§ø‡§∂‡•ç‡§µ ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§ó‡§π‡§∞‡§æ ‡§Æ‡§π‡§æ‡§∏‡§æ‡§ó‡§∞ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à?`,
            opt: ["‡§™‡•ç‡§∞‡§∂‡§æ‡§Ç‡§§ ‡§Æ‡§π‡§æ‡§∏‡§æ‡§ó‡§∞ (Pacific)", "‡§π‡§ø‡§Ç‡§¶ ‡§Æ‡§π‡§æ‡§∏‡§æ‡§ó‡§∞ (Indian)", "‡§Ö‡§ü‡§≤‡§æ‡§Ç‡§ü‡§ø‡§ï ‡§Æ‡§π‡§æ‡§∏‡§æ‡§ó‡§∞", "‡§Ü‡§∞‡•ç‡§ï‡§ü‡§ø‡§ï ‡§Æ‡§π‡§æ‡§∏‡§æ‡§ó‡§∞"],
            ans: 0, exp: "‡§™‡•ç‡§∞‡§∂‡§æ‡§Ç‡§§ ‡§Æ‡§π‡§æ‡§∏‡§æ‡§ó‡§∞ (Pacific Ocean) ‡§µ‡§ø‡§∂‡•ç‡§µ ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡§æ ‡§î‡§∞ ‡§∏‡§¨‡§∏‡•á ‡§ó‡§π‡§∞‡§æ ‡§Æ‡§π‡§æ‡§∏‡§æ‡§ó‡§∞ ‡§π‡•à‡•§ ‡§Æ‡§∞‡§ø‡§Ø‡§æ‡§®‡§æ ‡§ü‡•ç‡§∞‡•á‡§Ç‡§ö ‡§á‡§∏‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§ó‡§π‡§∞‡§æ ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§π‡•à‡•§"
        },
        {
            id: 2, type: "GK",
            q: `‡§≠‡§æ‡§∞‡§§ ‡§Æ‡•á‡§Ç '‡§Æ‡§ø‡§∏‡§æ‡§á‡§≤ ‡§Æ‡•à‡§®' (Missile Man) ‡§ï‡•á ‡§®‡§æ‡§Æ ‡§∏‡•á ‡§ï‡§ø‡§∏‡•á ‡§ú‡§æ‡§®‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à?`,
            opt: ["‡§°‡•â. ‡§π‡•ã‡§Æ‡•Ä ‡§ú‡§π‡§æ‡§Ç‡§ó‡•Ä‡§∞ ‡§≠‡§æ‡§≠‡§æ", "‡§°‡•â. ‡§è.‡§™‡•Ä.‡§ú‡•á. ‡§Ö‡§¨‡•ç‡§¶‡•Å‡§≤ ‡§ï‡§≤‡§æ‡§Æ", "‡§°‡•â. ‡§µ‡§ø‡§ï‡•ç‡§∞‡§Æ ‡§∏‡§æ‡§∞‡§æ‡§≠‡§æ‡§à", "‡§∏‡•Ä.‡§µ‡•Ä. ‡§∞‡§Æ‡§®"],
            ans: 1, exp: "‡§°‡•â. ‡§è.‡§™‡•Ä.‡§ú‡•á. ‡§Ö‡§¨‡•ç‡§¶‡•Å‡§≤ ‡§ï‡§≤‡§æ‡§Æ ‡§ï‡•ã ‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§Æ‡§ø‡§∏‡§æ‡§á‡§≤ ‡§Æ‡•à‡§® ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§ú‡§æ‡§®‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 3, type: "GK",
            q: `‡§≤‡§¶‡•ç‡§¶‡§æ‡§ñ ‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["‡§∂‡•ç‡§∞‡•Ä‡§®‡§ó‡§∞", "‡§ú‡§Æ‡•ç‡§Æ‡•Ç", "‡§≤‡•á‡§π", "‡§ï‡§æ‡§∞‡§ó‡§ø‡§≤"],
            ans: 2, exp: "‡§≤‡§¶‡•ç‡§¶‡§æ‡§ñ ‡§è‡§ï ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§∂‡§æ‡§∏‡§ø‡§§ ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡§ï‡•Ä ‡§∞‡§æ‡§ú‡§ß‡§æ‡§®‡•Ä ‡§≤‡•á‡§π ‡§π‡•à‡•§"
        },
        {
            id: 4, type: "GK",
            q: `1857 ‡§ï‡•á ‡§µ‡§ø‡§¶‡•ç‡§∞‡•ã‡§π ‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§ó‡§µ‡§∞‡•ç‡§®‡§∞ ‡§ú‡§®‡§∞‡§≤ ‡§ï‡•å‡§® ‡§•‡§æ?`,
            opt: ["‡§≤‡•â‡§∞‡•ç‡§° ‡§°‡§≤‡§π‡•å‡§ú‡•Ä", "‡§≤‡•â‡§∞‡•ç‡§° ‡§ï‡•à‡§®‡§ø‡§Ç‡§ó", "‡§≤‡•â‡§∞‡•ç‡§° ‡§Æ‡§æ‡§â‡§Ç‡§ü‡§¨‡•á‡§ü‡§®", "‡§≤‡•â‡§∞‡•ç‡§° ‡§ï‡§∞‡•ç‡§ú‡§®"],
            ans: 1, exp: "1857 ‡§ï‡•Ä ‡§ï‡•ç‡§∞‡§æ‡§Ç‡§§‡§ø ‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§≤‡•â‡§∞‡•ç‡§° ‡§ï‡•à‡§®‡§ø‡§Ç‡§ó ‡§≠‡§æ‡§∞‡§§ ‡§ï‡•á ‡§ó‡§µ‡§∞‡•ç‡§®‡§∞ ‡§ú‡§®‡§∞‡§≤ ‡§•‡•á‡•§"
        },
        {
            id: 5, type: "GK",
            q: `‡§Ö‡§Ç‡§§‡§∞‡•ç‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§Ø‡•ã‡§ó ‡§¶‡§ø‡§µ‡§∏ (International Yoga Day) ‡§ï‡§¨ ‡§Æ‡§®‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à?`,
            opt: ["21 ‡§ú‡•Ç‡§®", "5 ‡§ú‡•Ç‡§®", "1 ‡§¶‡§ø‡§∏‡§Ç‡§¨‡§∞", "8 ‡§Æ‡§æ‡§∞‡•ç‡§ö"],
            ans: 0, exp: "‡§π‡§∞ ‡§∏‡§æ‡§≤ 21 ‡§ú‡•Ç‡§® ‡§ï‡•ã ‡§Ö‡§Ç‡§§‡§∞‡•ç‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§Ø‡•ã‡§ó ‡§¶‡§ø‡§µ‡§∏ ‡§Æ‡§®‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 6, type: "GK",
            q: `‡§∏‡§Ç‡§∏‡§¶ ‡§ï‡•á ‡§ä‡§™‡§∞‡•Ä ‡§∏‡§¶‡§® (Upper House) ‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§π‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à?`,
            opt: ["‡§≤‡•ã‡§ï‡§∏‡§≠‡§æ", "‡§∞‡§æ‡§ú‡•ç‡§Ø‡§∏‡§≠‡§æ", "‡§µ‡§ø‡§ß‡§æ‡§®‡§∏‡§≠‡§æ", "‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§™‡§§‡§ø ‡§≠‡§µ‡§®"],
            ans: 1, exp: "‡§∞‡§æ‡§ú‡•ç‡§Ø‡§∏‡§≠‡§æ ‡§ï‡•ã ‡§â‡§ö‡•ç‡§ö ‡§∏‡§¶‡§® (Upper House) ‡§î‡§∞ ‡§≤‡•ã‡§ï‡§∏‡§≠‡§æ ‡§ï‡•ã ‡§®‡§ø‡§Æ‡•ç‡§® ‡§∏‡§¶‡§® (Lower House) ‡§ï‡§π‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 7, type: "GK",
            q: `‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§∏‡§∞‡•ç‡§µ‡•ã‡§ö‡•ç‡§ö ‡§µ‡•Ä‡§∞‡§§‡§æ ‡§™‡•Å‡§∞‡§∏‡•ç‡§ï‡§æ‡§∞ (Gallantry Award) ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à?`,
            opt: ["‡§Æ‡§π‡§æ‡§µ‡•Ä‡§∞ ‡§ö‡§ï‡•ç‡§∞", "‡§Ö‡§∂‡•ã‡§ï ‡§ö‡§ï‡•ç‡§∞", "‡§™‡§∞‡§Æ‡§µ‡•Ä‡§∞ ‡§ö‡§ï‡•ç‡§∞", "‡§ï‡•Ä‡§∞‡•ç‡§§‡§ø ‡§ö‡§ï‡•ç‡§∞"],
            ans: 2, exp: "‡§™‡§∞‡§Æ‡§µ‡•Ä‡§∞ ‡§ö‡§ï‡•ç‡§∞ ‡§Ø‡•Å‡§¶‡•ç‡§ß‡§ï‡§æ‡§≤ ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡§æ ‡§≠‡§æ‡§∞‡§§ ‡§ï‡§æ ‡§∏‡§∞‡•ç‡§µ‡•ã‡§ö‡•ç‡§ö ‡§µ‡•Ä‡§∞‡§§‡§æ ‡§™‡•Å‡§∞‡§∏‡•ç‡§ï‡§æ‡§∞ ‡§π‡•à‡•§"
        },
        {
            id: 8, type: "GK",
            q: `‡§ï‡•Å‡§§‡•Å‡§¨ ‡§Æ‡•Ä‡§®‡§æ‡§∞ ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡§ø‡§∏‡§®‡•á ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡§µ‡§æ‡§Ø‡§æ ‡§•‡§æ?`,
            opt: ["‡§ï‡•Å‡§§‡•Å‡§¨‡•Å‡§¶‡•ç‡§¶‡•Ä‡§® ‡§ê‡§¨‡§ï", "‡§á‡§≤‡•ç‡§§‡•Å‡§§‡§Æ‡§ø‡§∂", "‡§∞‡§ú‡§º‡§ø‡§Ø‡§æ ‡§∏‡•Å‡§≤‡•ç‡§§‡§æ‡§®", "‡§Ö‡§≤‡§æ‡§â‡§¶‡•ç‡§¶‡•Ä‡§® ‡§ñ‡§ø‡§≤‡§ú‡•Ä"],
            ans: 1, exp: "‡§ï‡•Å‡§§‡•Å‡§¨‡•Å‡§¶‡•ç‡§¶‡•Ä‡§® ‡§ê‡§¨‡§ï ‡§®‡•á ‡§®‡•Ä‡§Ç‡§µ ‡§∞‡§ñ‡•Ä ‡§•‡•Ä, ‡§≤‡•á‡§ï‡§ø‡§® ‡§á‡§∏‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§á‡§≤‡•ç‡§§‡•Å‡§§‡§Æ‡§ø‡§∂ ‡§®‡•á ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡§µ‡§æ‡§Ø‡§æ ‡§•‡§æ‡•§"
        },
        {
            id: 9, type: "GK",
            q: `‡§∏‡§ä‡§¶‡•Ä ‡§Ö‡§∞‡§¨ ‡§ï‡•Ä ‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ (Currency) ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["‡§¶‡•Ä‡§®‡§æ‡§∞", "‡§∞‡§ø‡§Ø‡§æ‡§≤", "‡§°‡•â‡§≤‡§∞", "‡§∞‡•Å‡§™‡§Ø‡§æ"],
            ans: 1, exp: "‡§∏‡§ä‡§¶‡•Ä ‡§Ö‡§∞‡§¨ ‡§ï‡•Ä ‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ '‡§∏‡§ä‡§¶‡•Ä ‡§∞‡§ø‡§Ø‡§æ‡§≤' ‡§π‡•à‡•§"
        },
        {
            id: 10, type: "GK",
            q: `‡§π‡•Ä‡§∞‡§æ‡§ï‡•Å‡§Ç‡§° ‡§¨‡§æ‡§Ç‡§ß (Hirakud Dam) ‡§ï‡§ø‡§∏ ‡§®‡§¶‡•Ä ‡§™‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•à?`,
            opt: ["‡§ó‡§Ç‡§ó‡§æ", "‡§Ø‡§Æ‡•Å‡§®‡§æ", "‡§Æ‡§π‡§æ‡§®‡§¶‡•Ä", "‡§ï‡§æ‡§µ‡•á‡§∞‡•Ä"],
            ans: 2, exp: "‡§π‡•Ä‡§∞‡§æ‡§ï‡•Å‡§Ç‡§° ‡§¨‡§æ‡§Ç‡§ß ‡§ì‡§°‡§ø‡§∂‡§æ ‡§Æ‡•á‡§Ç ‡§Æ‡§π‡§æ‡§®‡§¶‡•Ä ‡§™‡§∞ ‡§¨‡§®‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 11, type: "GK",
            q: `‡§ï‡•ç‡§∞‡§ø‡§ï‡•á‡§ü ‡§ï‡•á ‡§Æ‡•à‡§¶‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§ü‡§Ç‡§™‡•ç‡§∏ (Stumps) ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ï‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§ï‡§ø‡§§‡§®‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à?`,
            opt: ["20 ‡§ó‡§ú", "22 ‡§ó‡§ú", "24 ‡§ó‡§ú", "18 ‡§ó‡§ú"],
            ans: 1, exp: "‡§ï‡•ç‡§∞‡§ø‡§ï‡•á‡§ü ‡§™‡§ø‡§ö ‡§ï‡•Ä ‡§≤‡§Ç‡§¨‡§æ‡§à 22 ‡§ó‡§ú (Yards) ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 12, type: "GK",
            q: `‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∏‡•á‡§®‡§æ ‡§ï‡§æ ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§µ‡§æ‡§ï‡•ç‡§Ø (Motto) ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["‡§∂‡§Ç ‡§®‡•ã ‡§µ‡§∞‡•Å‡§£‡§É", "‡§®‡§≠‡§É ‡§∏‡•ç‡§™‡•É‡§∂‡§Ç ‡§¶‡•Ä‡§™‡•ç‡§§‡§Æ‡•ç", "‡§∏‡•á‡§µ‡§æ ‡§™‡§∞‡§Æ‡•ã ‡§ß‡§∞‡•ç‡§Æ:", "‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§∏‡•á‡§µ‡§æ (Service Before Self)"],
            ans: 3, exp: "‡§≠‡§æ‡§∞‡§§‡•Ä‡§Ø ‡§∏‡•á‡§®‡§æ ‡§ï‡§æ ‡§Ü‡§¶‡§∞‡•ç‡§∂ ‡§µ‡§æ‡§ï‡•ç‡§Ø '‡§∏‡•á‡§µ‡§æ ‡§™‡§∞‡§Æ‡•ã ‡§ß‡§∞‡•ç‡§Æ:' (Service Before Self) ‡§π‡•à‡•§"
        },
        {
            id: 13, type: "GK",
            q: `‡§ï‡§æ‡§ú‡•Ä‡§∞‡§Ç‡§ó‡§æ ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§â‡§¶‡•ç‡§Ø‡§æ‡§® ‡§ï‡§ø‡§∏‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§π‡•à?`,
            opt: ["‡§∂‡•á‡§∞", "‡§¨‡§æ‡§ò", "‡§è‡§ï ‡§∏‡•Ä‡§Ç‡§ó ‡§µ‡§æ‡§≤‡§æ ‡§ó‡•à‡§Ç‡§°‡§æ", "‡§π‡§æ‡§•‡•Ä"],
            ans: 2, exp: "‡§Ö‡§∏‡§Æ ‡§∏‡•ç‡§•‡§ø‡§§ ‡§ï‡§æ‡§ú‡•Ä‡§∞‡§Ç‡§ó‡§æ '‡§è‡§ï ‡§∏‡•Ä‡§Ç‡§ó ‡§µ‡§æ‡§≤‡•á ‡§ó‡•à‡§Ç‡§°‡•á' (One-horned Rhinoceros) ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•ç‡§∞‡§∏‡§ø‡§¶‡•ç‡§ß ‡§π‡•à‡•§"
        },
        {
            id: 14, type: "GK",
            q: `‡§ó‡•á‡§ü‡§µ‡•á ‡§ë‡§´ ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ (Gateway of India) ‡§ï‡§π‡§æ‡§Å ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•à?`,
            opt: ["‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä", "‡§Æ‡•Å‡§Ç‡§¨‡§à", "‡§ï‡•ã‡§≤‡§ï‡§æ‡§§‡§æ", "‡§ö‡•á‡§®‡•ç‡§®‡§à"],
            ans: 1, exp: "‡§ó‡•á‡§ü‡§µ‡•á ‡§ë‡§´ ‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ ‡§Æ‡•Å‡§Ç‡§¨‡§à ‡§Æ‡•á‡§Ç ‡§π‡•à (‡§á‡§Ç‡§°‡§ø‡§Ø‡§æ ‡§ó‡•á‡§ü ‡§¶‡§ø‡§≤‡•ç‡§≤‡•Ä ‡§Æ‡•á‡§Ç ‡§π‡•à)‡•§"
        },
        {
            id: 15, type: "GK",
            q: `‡§®‡•Ä‡§§‡§ø ‡§Ü‡§Ø‡•ã‡§ó (NITI Aayog) ‡§ï‡§æ ‡§Ö‡§ß‡•ç‡§Ø‡§ï‡•ç‡§∑ ‡§ï‡•å‡§® ‡§π‡•ã‡§§‡§æ ‡§π‡•à?`,
            opt: ["‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡§™‡§§‡§ø", "‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä", "‡§ó‡•É‡§π ‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä", "‡§Ü‡§∞‡§¨‡•Ä‡§Ü‡§à ‡§ó‡§µ‡§∞‡•ç‡§®‡§∞"],
            ans: 1, exp: "‡§™‡•ç‡§∞‡§ß‡§æ‡§®‡§Æ‡§Ç‡§§‡•ç‡§∞‡•Ä ‡§™‡§¶‡•á‡§® ‡§®‡•Ä‡§§‡§ø ‡§Ü‡§Ø‡•ã‡§ó ‡§ï‡•á ‡§Ö‡§ß‡•ç‡§Ø‡§ï‡•ç‡§∑ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§"
        },

        // --- SECTION 2: GENERAL SCIENCE (GS) [Q 16-30] ---
        {
            id: 16, type: "GS",
            q: `‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§®‡§Æ‡§ï (Common Salt) ‡§ï‡§æ ‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["H<sub>2</sub>O", "NaCl", "KCl", "NaOH"],
            ans: 1, exp: "‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§®‡§Æ‡§ï ‡§∏‡•ã‡§°‡§ø‡§Ø‡§Æ ‡§ï‡•ç‡§≤‡•ã‡§∞‡§æ‡§á‡§° ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§∏‡•Ç‡§§‡•ç‡§∞ NaCl ‡§π‡•à‡•§"
        },
        {
            id: 17, type: "GS",
            q: `‡§Æ‡§æ‡§®‡§µ ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§π‡§°‡•ç‡§°‡•Ä ‡§ï‡•å‡§® ‡§∏‡•Ä ‡§π‡•à?`,
            opt: ["‡§´‡•Ä‡§Æ‡§∞ (Femur)", "‡§∏‡•ç‡§ü‡•á‡§™‡•Ä‡§ú‡§º", "‡§π‡•ç‡§Ø‡•Ç‡§Æ‡§∞‡§∏", "‡§ü‡§ø‡§¨‡§ø‡§Ø‡§æ"],
            ans: 0, exp: "‡§´‡•Ä‡§Æ‡§∞ (‡§ú‡§æ‡§Ç‡§ò ‡§ï‡•Ä ‡§π‡§°‡•ç‡§°‡•Ä) ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•Ä ‡§∏‡§¨‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§π‡§°‡•ç‡§°‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 18, type: "GS",
            q: `‡§¨‡§ø‡§ú‡§≤‡•Ä ‡§ï‡•á ‡§¨‡§≤‡•ç‡§¨ ‡§ï‡§æ ‡§´‡§ø‡§≤‡§æ‡§Æ‡•á‡§Ç‡§ü (Filament) ‡§ï‡§ø‡§∏‡§ï‡§æ ‡§¨‡§®‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à?`,
            opt: ["‡§§‡§æ‡§Ç‡§¨‡§æ", "‡§è‡§≤‡•ç‡§Ø‡•Å‡§Æ‡§ø‡§®‡§ø‡§Ø‡§Æ", "‡§ü‡§Ç‡§ó‡§∏‡•ç‡§ü‡§®", "‡§≤‡•ã‡§π‡§æ"],
            ans: 2, exp: "‡§ü‡§Ç‡§ó‡§∏‡•ç‡§ü‡§® ‡§ï‡§æ ‡§ó‡§≤‡§®‡§æ‡§Ç‡§ï ‡§¨‡§π‡•Å‡§§ ‡§â‡§ö‡•ç‡§ö ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§á‡§∏‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§¨‡§≤‡•ç‡§¨ ‡§´‡§ø‡§≤‡§æ‡§Æ‡•á‡§Ç‡§ü ‡§Æ‡•á‡§Ç ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 19, type: "GS",
            q: `‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§∏‡§Ç‡§∂‡•ç‡§≤‡•á‡§∑‡§£ (Photosynthesis) ‡§ï‡§ø‡§∏ ‡§∞‡§Ç‡§ó ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§Æ‡•á‡§Ç ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•ã‡§§‡§æ ‡§π‡•à?`,
            opt: ["‡§π‡§∞‡§æ", "‡§≤‡§æ‡§≤", "‡§®‡•Ä‡§≤‡§æ", "‡§™‡•Ä‡§≤‡§æ"],
            ans: 1, exp: "‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§∏‡§Ç‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡•Ä ‡§¶‡§∞ ‡§≤‡§æ‡§≤ ‡§∞‡§Ç‡§ó ‡§ï‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§Æ‡•á‡§Ç ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 20, type: "GS",
            q: `‡§ß‡•ç‡§µ‡§®‡§ø (Sound) ‡§ï‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•Ä?`,
            opt: ["‡§†‡•ã‡§∏", "‡§¶‡•ç‡§∞‡§µ", "‡§ó‡•à‡§∏", "‡§®‡§ø‡§∞‡•ç‡§µ‡§æ‡§§ (Vacuum)"],
            ans: 3, exp: "‡§ß‡•ç‡§µ‡§®‡§ø ‡§ï‡•ã ‡§ö‡§≤‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§Ø‡§π ‡§®‡§ø‡§∞‡•ç‡§µ‡§æ‡§§ ‡§Æ‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç ‡§ö‡§≤ ‡§∏‡§ï‡§§‡•Ä‡•§"
        },
        {
            id: 21, type: "GS",
            q: `‡§µ‡§ø‡§ü‡§æ‡§Æ‡§ø‡§® C ‡§ï‡§æ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à?`,
            opt: ["‡§ó‡§æ‡§ú‡§∞", "‡§Ü‡§Ç‡§µ‡§≤‡§æ/‡§®‡•Ä‡§Ç‡§¨‡•Ç", "‡§¶‡•Ç‡§ß", "‡§Ö‡§Ç‡§°‡§æ"],
            ans: 1, exp: "‡§ñ‡§ü‡•ç‡§ü‡•á ‡§´‡§≤ (‡§ú‡•à‡§∏‡•á ‡§Ü‡§Ç‡§µ‡§≤‡§æ, ‡§®‡•Ä‡§Ç‡§¨‡•Ç, ‡§∏‡§Ç‡§§‡§∞‡§æ) ‡§µ‡§ø‡§ü‡§æ‡§Æ‡§ø‡§® C ‡§ï‡•á ‡§∏‡§∞‡•ç‡§µ‡•ã‡§§‡•ç‡§§‡§Æ ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§π‡•à‡§Ç‡•§"
        },
        {
            id: 22, type: "GS",
            q: `‡§∞‡§ï‡•ç‡§§ ‡§ï‡§æ ‡§∂‡•Å‡§¶‡•ç‡§ß‡§ø‡§ï‡§∞‡§£ (Purification) ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•á ‡§ï‡§ø‡§∏ ‡§Ö‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§π‡•ã‡§§‡§æ ‡§π‡•à?`,
            opt: ["‡§π‡•É‡§¶‡§Ø", "‡§´‡•á‡§´‡§°‡§º‡•á", "‡§ó‡•Å‡§∞‡•ç‡§¶‡§æ (Kidney)", "‡§Ø‡§ï‡•É‡§§"],
            ans: 2, exp: "‡§ï‡§ø‡§°‡§®‡•Ä (‡§ó‡•Å‡§∞‡•ç‡§¶‡§æ) ‡§∞‡§ï‡•ç‡§§ ‡§ï‡•ã ‡§õ‡§æ‡§®‡§ï‡§∞ ‡§∂‡•Å‡§¶‡•ç‡§ß ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§∞‡§§‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 23, type: "GS",
            q: `‡§≤‡•ã‡§π‡•á ‡§™‡§∞ ‡§ú‡§Ç‡§ó ‡§≤‡§ó‡§®‡§æ (Rusting) ‡§ï‡§ø‡§∏‡§ï‡§æ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§π‡•à?`,
            opt: ["‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ï‡§∞‡§£ (Oxidation)", "‡§Ö‡§™‡§ö‡§Ø‡§®", "‡§µ‡§æ‡§∑‡•ç‡§™‡•Ä‡§ï‡§∞‡§£", "‡§â‡§∞‡•ç‡§ß‡•ç‡§µ‡§™‡§æ‡§§‡§®"],
            ans: 0, exp: "‡§ú‡§Ç‡§ó ‡§≤‡§ó‡§®‡§æ ‡§è‡§ï ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ï‡§∞‡§£ ‡§Ö‡§≠‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 24, type: "GS",
            q: `‡§¨‡§≤ (Force) ‡§ï‡§æ SI ‡§Æ‡§æ‡§§‡•ç‡§∞‡§ï ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["‡§ú‡•Ç‡§≤", "‡§®‡•ç‡§Ø‡•Ç‡§ü‡§®", "‡§™‡§æ‡§∏‡•ç‡§ï‡§≤", "‡§µ‡§æ‡§ü"],
            ans: 1, exp: "‡§¨‡§≤ ‡§ï‡§æ SI ‡§Æ‡§æ‡§§‡•ç‡§∞‡§ï ‡§®‡•ç‡§Ø‡•Ç‡§ü‡§® (Newton) ‡§π‡•à‡•§"
        },
        {
            id: 25, type: "GS",
            q: `‡§™‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§ò‡§®‡§§‡•ç‡§µ (Density) ‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ ‡§ï‡§ø‡§∏ ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§™‡§∞ ‡§π‡•ã‡§§‡§æ ‡§π‡•à?`,
            opt: ["0¬∞C", "100¬∞C", "4¬∞C", "-4¬∞C"],
            ans: 2, exp: "‡§™‡§æ‡§®‡•Ä ‡§ï‡§æ ‡§ò‡§®‡§§‡•ç‡§µ 4¬∞C ‡§™‡§∞ ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 26, type: "GS",
            q: `‡§¨‡§æ‡§Ø‡•ã‡§ó‡•à‡§∏ ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ò‡§ü‡§ï ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à?`,
            opt: ["‡§Æ‡•Ä‡§•‡•á‡§® (CH<sub>4</sub>)", "‡§™‡•ç‡§∞‡•ã‡§™‡•á‡§®", "‡§¨‡•ç‡§Ø‡•Ç‡§ü‡•á‡§®", "‡§è‡§•‡•á‡§®"],
            ans: 0, exp: "‡§¨‡§æ‡§Ø‡•ã‡§ó‡•à‡§∏ ‡§Æ‡•á‡§Ç ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Æ‡•Ä‡§•‡•á‡§® (Methane) ‡§ó‡•à‡§∏ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 27, type: "GS",
            q: `‡§Æ‡§æ‡§®‡§µ ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç ‡§ó‡•Å‡§£‡§∏‡•Ç‡§§‡•ç‡§∞‡•ã‡§Ç (Chromosomes) ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ï‡§ø‡§§‡§®‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à?`,
            opt: ["42", "44", "46", "48"],
            ans: 2, exp: "‡§Æ‡§æ‡§®‡§µ ‡§∂‡§∞‡•Ä‡§∞ ‡§Æ‡•á‡§Ç 23 ‡§ú‡•ã‡§°‡§º‡•á ‡§Ø‡§æ‡§®‡•Ä ‡§ï‡•Å‡§≤ 46 ‡§ó‡•Å‡§£‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§"
        },
        {
            id: 28, type: "GS",
            q: `‡§≠‡•Ç‡§ï‡§Ç‡§™ ‡§ï‡•Ä ‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ ‡§Æ‡§æ‡§™‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§Ø‡§Ç‡§§‡•ç‡§∞ ‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç?`,
            opt: ["‡§¨‡•à‡§∞‡•ã‡§Æ‡•Ä‡§ü‡§∞", "‡§∏‡§ø‡§∏‡•ç‡§Æ‡•ã‡§ó‡•ç‡§∞‡§æ‡§´", "‡§≤‡•à‡§ï‡•ç‡§ü‡•ã‡§Æ‡•Ä‡§ü‡§∞", "‡§π‡§æ‡§á‡§ó‡•ç‡§∞‡•ã‡§Æ‡•Ä‡§ü‡§∞"],
            ans: 1, exp: "‡§≠‡•Ç‡§ï‡§Ç‡§™ ‡§ï‡•Ä ‡§§‡•Ä‡§µ‡•ç‡§∞‡§§‡§æ ‡§∏‡§ø‡§∏‡•ç‡§Æ‡•ã‡§ó‡•ç‡§∞‡§æ‡§´ (Seismograph) ‡§∏‡•á ‡§Æ‡§æ‡§™‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 29, type: "GS",
            q: `‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§ß‡§æ‡§∞‡§æ (Electric Current) ‡§ï‡§ø‡§∏‡§∏‡•á ‡§Æ‡§æ‡§™‡•Ä ‡§ú‡§æ‡§§‡•Ä ‡§π‡•à?`,
            opt: ["‡§µ‡•ã‡§≤‡•ç‡§ü‡§Æ‡•Ä‡§ü‡§∞", "‡§Ö‡§Æ‡•Ä‡§ü‡§∞", "‡§ì‡§°‡•ã‡§Æ‡•Ä‡§ü‡§∞", "‡§•‡§∞‡•ç‡§Æ‡§æ‡§Æ‡•Ä‡§ü‡§∞"],
            ans: 1, exp: "‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§ß‡§æ‡§∞‡§æ ‡§ï‡•ã ‡§Ö‡§Æ‡•Ä‡§ü‡§∞ (Ammeter) ‡§∏‡•á ‡§Æ‡§æ‡§™‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§"
        },
        {
            id: 30, type: "GS",
            q: `‡§™‡•á‡§®‡§ø‡§∏‡§ø‡§≤‡§ø‡§® (Penicillin) ‡§ï‡•Ä ‡§ñ‡•ã‡§ú ‡§ï‡§ø‡§∏‡§®‡•á ‡§ï‡•Ä ‡§•‡•Ä?`,
            opt: ["‡§Ö‡§≤‡•á‡§ï‡•ç‡§ú‡•á‡§Ç‡§°‡§∞ ‡§´‡•ç‡§≤‡•á‡§Æ‡§ø‡§Ç‡§ó", "‡§≤‡•Å‡§à ‡§™‡§æ‡§∂‡•ç‡§ö‡§∞", "‡§è‡§°‡§µ‡§∞‡•ç‡§° ‡§ú‡•á‡§®‡§∞", "‡§ö‡§æ‡§∞‡•ç‡§≤‡•ç‡§∏ ‡§°‡§æ‡§∞‡•ç‡§µ‡§ø‡§®"],
            ans: 0, exp: "‡§Ö‡§≤‡•á‡§ï‡•ç‡§ú‡•á‡§Ç‡§°‡§∞ ‡§´‡•ç‡§≤‡•á‡§Æ‡§ø‡§Ç‡§ó ‡§®‡•á ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§ï‡•Ä ‡§™‡§π‡§≤‡•Ä ‡§è‡§Ç‡§ü‡•Ä‡§¨‡§æ‡§Ø‡•ã‡§ü‡§ø‡§ï ‡§™‡•á‡§®‡§ø‡§∏‡§ø‡§≤‡§ø‡§® ‡§ï‡•Ä ‡§ñ‡•ã‡§ú ‡§ï‡•Ä ‡§•‡•Ä‡•§"
        },

        // --- SECTION 3: MATHEMATICS [Q 31-45] (Custom HTML Math Format) ---
        {
            id: 31, type: "Maths",
            q: `‡§∏‡§∞‡§≤‡•Ä‡§ï‡§∞‡§£ ‡§ï‡§∞‡•á‡§Ç: <div class="frac"><span>3</span><span class="bottom">4</span></div> + <div class="frac"><span>2</span><span class="bottom">5</span></div> ‡§ï‡§æ ‡§Æ‡§æ‡§® ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["<div class='frac'><span>5</span><span class='bottom'>9</span></div>", "<div class='frac'><span>23</span><span class='bottom'>20</span></div>", "<div class='frac'><span>15</span><span class='bottom'>20</span></div>", "<div class='frac'><span>17</span><span class='bottom'>20</span></div>"],
            ans: 1, exp: "LCM of 4 and 5 = 20.<br><div class='frac'><span>(3√ó5) + (2√ó4)</span><span class='bottom'>20</span></div> = <div class='frac'><span>15 + 8</span><span class='bottom'>20</span></div> = <div class='frac'><span>23</span><span class='bottom'>20</span></div>"
        },
        {
            id: 32, type: "Maths",
            q: `‡§Ø‡§¶‡§ø ‡§è‡§ï ‡§µ‡§∞‡•ç‡§ó (Square) ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ 144 cm<sup>2</sup> ‡§π‡•à, ‡§§‡•ã ‡§â‡§∏‡§ï‡•Ä ‡§≠‡•Å‡§ú‡§æ (Side) ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§ó‡•Ä?`,
            opt: ["10 cm", "11 cm", "12 cm", "14 cm"],
            ans: 2, exp: "‡§µ‡§∞‡•ç‡§ó ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ = (‡§≠‡•Å‡§ú‡§æ)<sup>2</sup><br>144 = a<sup>2</sup><br>a = &radic;<span class='sqrt-line'>144</span> = 12 cm"
        },
        {
            id: 33, type: "Maths",
            q: `‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ 0.0025 ‡§ï‡•ã ‡§≠‡§ø‡§®‡•ç‡§® (Fraction) ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡•á‡§Ç‡•§`,
            opt: ["<div class='frac'><span>1</span><span class='bottom'>200</span></div>", "<div class='frac'><span>1</span><span class='bottom'>400</span></div>", "<div class='frac'><span>25</span><span class='bottom'>1000</span></div>", "<div class='frac'><span>1</span><span class='bottom'>25</span></div>"],
            ans: 1, exp: "0.0025 = <div class='frac'><span>25</span><span class='bottom'>10000</span></div> = <div class='frac'><span>1</span><span class='bottom'>400</span></div>"
        },
        {
            id: 34, type: "Maths",
            q: `‡§è‡§ï ‡§Ü‡§Ø‡§§ (Rectangle) ‡§ï‡•Ä ‡§≤‡§Ç‡§¨‡§æ‡§à 12m ‡§î‡§∞ ‡§ö‡•å‡§°‡§º‡§æ‡§à 5m ‡§π‡•à‡•§ ‡§â‡§∏‡§ï‡§æ ‡§µ‡§ø‡§ï‡§∞‡•ç‡§£ (Diagonal) ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç?`,
            opt: ["13 m", "15 m", "17 m", "14 m"],
            ans: 0, exp: "‡§µ‡§ø‡§ï‡§∞‡•ç‡§£ = &radic;<span class='sqrt-line'>l<sup>2</sup> + b<sup>2</sup></span><br>= &radic;<span class='sqrt-line'>12<sup>2</sup> + 5<sup>2</sup></span><br>= &radic;<span class='sqrt-line'>144 + 25</span> = &radic;<span class='sqrt-line'>169</span> = 13 m"
        },
        {
            id: 35, type: "Maths",
            q: `‡§π‡§≤ ‡§ï‡§∞‡•á‡§Ç: (25)<sup>3/2</sup> ‡§ï‡§æ ‡§Æ‡§æ‡§® ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§ó‡§æ?`,
            opt: ["125", "25", "625", "15"],
            ans: 0, exp: "(25)<sup>3/2</sup> = (5<sup>2</sup>)<sup>3/2</sup> = 5<sup>2 √ó 3/2</sup> = 5<sup>3</sup> = 125"
        },
        {
            id: 36, type: "Maths",
            q: `‡§Ø‡§¶‡§ø A : B = 2 : 3 ‡§î‡§∞ B : C = 4 : 5 ‡§π‡•à, ‡§§‡•ã A : C ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§ó‡§æ?`,
            opt: ["2 : 5", "8 : 15", "6 : 15", "8 : 12"],
            ans: 1, exp: "<div class='frac'><span>A</span><span class='bottom'>B</span></div> √ó <div class='frac'><span>B</span><span class='bottom'>C</span></div> = <div class='frac'><span>2</span><span class='bottom'>3</span></div> √ó <div class='frac'><span>4</span><span class='bottom'>5</span></div> = <div class='frac'><span>8</span><span class='bottom'>15</span></div>"
        },
        {
            id: 37, type: "Maths",
            q: `‡§è‡§ï ‡§¨‡•á‡§≤‡§® (Cylinder) ‡§ï‡§æ ‡§Ü‡§Ø‡§§‡§® ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç ‡§ú‡§ø‡§∏‡§ï‡•Ä ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ (r) 7 cm ‡§î‡§∞ ‡§ä‡§Å‡§ö‡§æ‡§à (h) 10 cm ‡§π‡•à? (&#960; = <div class='frac'><span>22</span><span class='bottom'>7</span></div>)`,
            opt: ["1540 cm<sup>3</sup>", "1450 cm<sup>3</sup>", "1500 cm<sup>3</sup>", "1600 cm<sup>3</sup>"],
            ans: 0, exp: "‡§Ü‡§Ø‡§§‡§® = &#960;r<sup>2</sup>h<br>= <div class='frac'><span>22</span><span class='bottom'>7</span></div> √ó 7 √ó 7 √ó 10<br>= 22 √ó 7 √ó 10 = 1540"
        },
        {
            id: 38, type: "Maths",
            q: `sin 30¬∞ + cos 60¬∞ ‡§ï‡§æ ‡§Æ‡§æ‡§® ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["1", "<div class='frac'><span>&radic;3</span><span class='bottom'>2</span></div>", "0", "2"],
            ans: 0, exp: "sin 30¬∞ = <div class='frac'><span>1</span><span class='bottom'>2</span></div><br>cos 60¬∞ = <div class='frac'><span>1</span><span class='bottom'>2</span></div><br>‡§Ø‡•ã‡§ó = <div class='frac'><span>1</span><span class='bottom'>2</span></div> + <div class='frac'><span>1</span><span class='bottom'>2</span></div> = 1"
        },
        {
            id: 39, type: "Maths",
            q: `15 ‡§Ü‡§¶‡§Æ‡•Ä ‡§è‡§ï ‡§ï‡§æ‡§Æ ‡§ï‡•ã 20 ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§â‡§∏‡•Ä ‡§ï‡§æ‡§Æ ‡§ï‡•ã 10 ‡§Ü‡§¶‡§Æ‡•Ä ‡§ï‡§ø‡§§‡§®‡•á ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á?`,
            opt: ["25 ‡§¶‡§ø‡§®", "30 ‡§¶‡§ø‡§®", "40 ‡§¶‡§ø‡§®", "15 ‡§¶‡§ø‡§®"],
            ans: 1, exp: "M1 √ó D1 = M2 √ó D2<br>15 √ó 20 = 10 √ó D2<br>300 = 10 √ó D2<br>D2 = 30 ‡§¶‡§ø‡§®"
        },
        {
            id: 40, type: "Maths",
            q: `‡§è‡§ï ‡§ó‡•ã‡§≤‡§æ (Sphere) ‡§ï‡•Ä ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ 3 cm ‡§π‡•à‡•§ ‡§â‡§∏‡§ï‡§æ ‡§™‡•É‡§∑‡•ç‡§†‡•Ä‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ (Surface Area) ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç? (&#960; ‡§Æ‡•á‡§Ç ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§Ç)`,
            opt: ["36&#960; cm<sup>2</sup>", "12&#960; cm<sup>2</sup>", "24&#960; cm<sup>2</sup>", "18&#960; cm<sup>2</sup>"],
            ans: 0, exp: "Surface Area = 4&#960;r<sup>2</sup><br>= 4&#960;(3)<sup>2</sup> = 4&#960; √ó 9 = 36&#960;"
        },
        {
            id: 41, type: "Maths",
            q: `‡§¶‡•ã ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ 3:4 ‡§π‡•à ‡§î‡§∞ ‡§â‡§®‡§ï‡§æ ‡§≤.‡§∏.‡§™. (LCM) 84 ‡§π‡•à‡•§ ‡§¨‡§°‡§º‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§`,
            opt: ["21", "24", "28", "32"],
            ans: 2, exp: "‡§Æ‡§æ‡§®‡§æ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§è‡§Ç 3x ‡§î‡§∞ 4x ‡§π‡•à‡§Ç‡•§<br>LCM = 12x<br>12x = 84 &rArr; x = 7<br>‡§¨‡§°‡§º‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ = 4x = 4 √ó 7 = 28"
        },
        {
            id: 42, type: "Maths",
            q: `‡§¨‡•Ä‡§ú‡§ó‡§£‡§ø‡§§: ‡§Ø‡§¶‡§ø a + b = 5 ‡§î‡§∞ ab = 6 ‡§π‡•à, ‡§§‡•ã a<sup>2</sup> + b<sup>2</sup> ‡§ï‡§æ ‡§Æ‡§æ‡§® ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•ã‡§ó‡§æ?`,
            opt: ["13", "19", "25", "11"],
            ans: 0, exp: "a<sup>2</sup> + b<sup>2</sup> = (a+b)<sup>2</sup> - 2ab<br>= (5)<sup>2</sup> - 2(6)<br>= 25 - 12 = 13"
        },
        {
            id: 43, type: "Maths",
            q: `‡§è‡§ï ‡§ï‡§æ‡§∞ 60 km/hr ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§∏‡•á 2 ‡§ò‡§Ç‡§ü‡•á ‡§î‡§∞ 40 km/hr ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§∏‡•á 3 ‡§ò‡§Ç‡§ü‡•á ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à‡•§ ‡§î‡§∏‡§§ ‡§ó‡§§‡§ø (Average Speed) ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
            opt: ["45 km/hr", "48 km/hr", "50 km/hr", "52 km/hr"],
            ans: 1, exp: "‡§ï‡•Å‡§≤ ‡§¶‡•Ç‡§∞‡•Ä = (60√ó2) + (40√ó3) = 120 + 120 = 240 km<br>‡§ï‡•Å‡§≤ ‡§∏‡§Æ‡§Ø = 2 + 3 = 5 ‡§ò‡§Ç‡§ü‡•á<br>‡§î‡§∏‡§§ ‡§ó‡§§‡§ø = <div class='frac'><span>240</span><span class='bottom'>5</span></div> = 48 km/hr"
        },
        {
            id: 44, type: "Maths",
            q: `12% ‡§µ‡§æ‡§∞‡•ç‡§∑‡§ø‡§ï ‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§¨‡•ç‡§Ø‡§æ‡§ú ‡§ï‡•Ä ‡§¶‡§∞ ‡§∏‡•á ‚Çπ5000 ‡§ï‡§ø‡§§‡§®‡•á ‡§µ‡§∞‡•ç‡§∑‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‚Çπ6200 ‡§π‡•ã ‡§ú‡§æ‡§Ø‡•á‡§Ç‡§ó‡•á?`,
            opt: ["1 ‡§µ‡§∞‡•ç‡§∑", "2 ‡§µ‡§∞‡•ç‡§∑", "3 ‡§µ‡§∞‡•ç‡§∑", "2.5 ‡§µ‡§∞‡•ç‡§∑"],
            ans: 1, exp: "‡§¨‡•ç‡§Ø‡§æ‡§ú = 6200 - 5000 = 1200<br>SI = <div class='frac'><span>P √ó R √ó T</span><span class='bottom'>100</span></div><br>1200 = <div class='frac'><span>5000 √ó 12 √ó T</span><span class='bottom'>100</span></div><br>1200 = 600T &rArr; T = 2 ‡§µ‡§∞‡•ç‡§∑"
        },
        {
            id: 45, type: "Maths",
            q: `‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§∂‡•ç‡§∞‡•É‡§Ç‡§ñ‡§≤‡§æ ‡§Æ‡•á‡§Ç ‡§≤‡•Å‡§™‡•ç‡§§ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç: 2, 5, 10, 17, ?, 37`,
            opt: ["24", "25", "26", "27"],
            ans: 2, exp: "‡§™‡•à‡§ü‡§∞‡•ç‡§®: +3, +5, +7, +9, +11<br>17 + 9 = 26<br>26 + 11 = 37 (‡§∏‡§π‡•Ä)"
        },

        // --- SECTION 4: LOGICAL REASONING [Q 46-50] ---
        {
            id: 46, type: "Reasoning",
            q: `‡§Ø‡§¶‡§ø 'FISH' ‡§ï‡•ã 'EHRG' ‡§≤‡§ø‡§ñ‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§§‡•ã 'JUNGLE' ‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§≤‡§ø‡§ñ‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ?`,
            opt: ["ITMFKD", "KVOHMF", "ITNFKD", "TIMFKD"],
            ans: 0, exp: "‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§Ö‡§ï‡•ç‡§∑‡§∞ -1 (‡§™‡§ø‡§õ‡§≤‡§æ ‡§Ö‡§ï‡•ç‡§∑‡§∞) ‡§π‡•à‡•§<br>J-1=I, U-1=T, N-1=M, G-1=F, L-1=K, E-1=D."
        },
        {
            id: 47, type: "Reasoning",
            q: `‡§Ö‡§∞‡•Å‡§£ ‡§®‡•á ‡§ï‡§π‡§æ, '‡§Ø‡§π ‡§≤‡§°‡§º‡§ï‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§Æ‡§æ‡§Å ‡§ï‡•á ‡§™‡•ã‡§§‡•á ‡§ï‡•Ä ‡§™‡§§‡•ç‡§®‡•Ä ‡§π‡•à'‡•§ ‡§Ö‡§∞‡•Å‡§£ ‡§ï‡§æ ‡§â‡§∏ ‡§≤‡§°‡§º‡§ï‡•Ä ‡§∏‡•á ‡§ï‡•ç‡§Ø‡§æ ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§π‡•à?`,
            opt: ["‡§™‡§ø‡§§‡§æ", "‡§∏‡§∏‡•Å‡§∞", "‡§¶‡§æ‡§¶‡§æ", "‡§™‡§§‡§ø"],
            ans: 1, exp: "‡§Æ‡§æ‡§Å ‡§ï‡§æ ‡§™‡•ã‡§§‡§æ = ‡§¨‡•á‡§ü‡§æ (‡§Ö‡§∞‡•Å‡§£ ‡§ï‡§æ ‡§¨‡•á‡§ü‡§æ)‡•§ ‡§¨‡•á‡§ü‡•á ‡§ï‡•Ä ‡§™‡§§‡•ç‡§®‡•Ä = ‡§¨‡§π‡•Ç‡•§<br>‡§Ö‡§§‡§É ‡§Ö‡§∞‡•Å‡§£ ‡§â‡§∏‡§ï‡§æ ‡§∏‡§∏‡•Å‡§∞ (Father-in-law) ‡§π‡•à‡•§"
        },
        {
            id: 48, type: "Reasoning",
            q: `‡§≠‡§ø‡§®‡•ç‡§® ‡§ö‡•Å‡§®‡•á‡§Ç (Find the odd one out):`,
            opt: ["‡§ï‡§æ‡§∞", "‡§∏‡§æ‡§á‡§ï‡§ø‡§≤", "‡§ü‡•ç‡§∞‡§ï", "‡§¨‡§∏"],
            ans: 1, exp: "‡§ï‡§æ‡§∞, ‡§ü‡•ç‡§∞‡§ï ‡§î‡§∞ ‡§¨‡§∏ ‡§à‡§Ç‡§ß‡§® ‡§∏‡•á ‡§ö‡§≤‡§§‡•á ‡§π‡•à‡§Ç, ‡§ú‡§¨‡§ï‡§ø ‡§∏‡§æ‡§á‡§ï‡§ø‡§≤ ‡§Æ‡§æ‡§®‡§µ ‡§∂‡§ï‡•ç‡§§‡§ø (Human effort) ‡§∏‡•á ‡§ö‡§≤‡§§‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 49, type: "Reasoning",
            q: `‡§è‡§ï ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§™‡•Ç‡§∞‡•ç‡§µ ‡§ï‡•Ä ‡§ì‡§∞ 5 ‡§ï‡§ø‡§Æ‡•Ä ‡§ö‡§≤‡§§‡§æ ‡§π‡•à, ‡§´‡§ø‡§∞ ‡§¶‡§æ‡§Ø‡•á‡§Ç (Right) ‡§Æ‡•Å‡§°‡§º‡§ï‡§∞ 3 ‡§ï‡§ø‡§Æ‡•Ä ‡§ö‡§≤‡§§‡§æ ‡§π‡•à‡•§ ‡§µ‡§π ‡§Ö‡§¨ ‡§ï‡§ø‡§∏ ‡§¶‡§ø‡§∂‡§æ ‡§Æ‡•á‡§Ç ‡§ú‡§æ ‡§∞‡§π‡§æ ‡§π‡•à?`,
            opt: ["‡§â‡§§‡•ç‡§§‡§∞", "‡§¶‡§ï‡•ç‡§∑‡§ø‡§£", "‡§™‡•Ç‡§∞‡•ç‡§µ", "‡§™‡§∂‡•ç‡§ö‡§ø‡§Æ"],
            ans: 1, exp: "‡§™‡•Ç‡§∞‡•ç‡§µ ‡§∏‡•á ‡§¶‡§æ‡§Ø‡•á‡§Ç ‡§Æ‡•Å‡§°‡§º‡§®‡•á ‡§™‡§∞ ‡§¶‡§ø‡§∂‡§æ '‡§¶‡§ï‡•ç‡§∑‡§ø‡§£' (South) ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§"
        },
        {
            id: 50, type: "Reasoning",
            q: `‡§ú‡•à‡§∏‡•á '‡§ó‡§æ‡§Ø' ‡§ï‡§æ ‡§∏‡§Ç‡§¨‡§Ç‡§ß '‡§¨‡§õ‡§°‡§º‡§æ' ‡§∏‡•á ‡§π‡•à, ‡§µ‡•à‡§∏‡•á ‡§π‡•Ä '‡§≠‡•á‡§°‡§º' ‡§ï‡§æ ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§ï‡§ø‡§∏‡§∏‡•á ‡§π‡•à?`,
            opt: ["‡§™‡§ø‡§≤‡•ç‡§≤‡§æ", "‡§Æ‡•á‡§Æ‡§®‡§æ (Lamb)", "‡§∂‡§æ‡§µ‡§ï", "‡§¨‡§õ‡§°‡§º‡§æ"],
            ans: 1, exp: "‡§ó‡§æ‡§Ø ‡§ï‡•á ‡§¨‡§ö‡•ç‡§ö‡•á ‡§ï‡•ã ‡§¨‡§õ‡§°‡§º‡§æ ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç, ‡§≠‡•á‡§°‡§º ‡§ï‡•á ‡§¨‡§ö‡•ç‡§ö‡•á ‡§ï‡•ã ‡§Æ‡•á‡§Æ‡§®‡§æ (Lamb) ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§"
        }
    ];
};
        

        const questions = generateQuestions();
        
        // --- 2. USER DATABASE ---
        const userDB = {
            "ram": { 
                id: "210045",
                name: "Gaurav kumar", 
                pass: "12345" 
            },
            "sham": { 
                id: "210046",
                name: "Sham Singh", 
                pass: "Sham#Exam" 
            }
        };

        // --- 2. STATE ---
        let currentQIdx = 0;
        let userAnswers = new Array(questions.length).fill(null); // 50 questions
        let timeLeft = 3600; // 60 Minutes for 50 questions
        let timerInterval;
        let isReview = false;
        let currentUser = null;

        // --- 3. FUNCTIONS ---

        function attemptLogin() {
            try {
                const userSelect = document.getElementById('user-select');
                const passInput = document.getElementById('password-input');
                
                if (!userSelect || !passInput) {
                    alert("System Error: Login elements missing.");
                    return;
                }

                const userVal = userSelect.value;
                const passVal = passInput.value ? passInput.value.trim() : "";

                if(!userVal) { alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§"); return; }
                
                // One-Time Submission Check Restored
                if(localStorage.getItem('exam_submitted_' + userDB[userVal].id)) {
                    alert("‡§∏‡§æ‡§µ‡§ß‡§æ‡§®: ‡§Ø‡§π ‡§õ‡§æ‡§§‡•ç‡§∞ ‡§™‡§π‡§≤‡•á ‡§π‡•Ä ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞ ‡§ö‡•Å‡§ï‡§æ ‡§π‡•à‡•§ (Duplicate Submission Not Allowed)\n\nSystem Locked.");
                    return;
                }
                
                // Secure Password Check
                if(userDB[userVal].pass !== passVal) {
                    alert("‡§ó‡§≤‡§§ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°! ‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§π‡•Ä ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§°‡§æ‡§≤‡•á‡§Ç‡•§");
                    return;
                }

                currentUser = userDB[userVal];
                
                // Set UI Data with safety checks
                if(document.getElementById('inst-name')) document.getElementById('inst-name').innerText = currentUser.name;
                if(document.getElementById('header-name')) document.getElementById('header-name').innerText = currentUser.name;
                if(document.getElementById('rep-name')) document.getElementById('rep-name').innerText = "Name: " + currentUser.name;

                // Device Check
                const isMobile = window.innerWidth < 768;
                if(document.getElementById('device-check')) {
                    document.getElementById('device-check').innerText = isMobile ? "Mobile (Compact View)" : "Desktop (Full View)";
                }

                switchScreen('instruction-screen');
            } catch(e) {
                console.error(e);
                alert("Login Error: " + e.message);
            }
        }

        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function startExam() {
            if(!document.getElementById('agree-chk').checked) {
                alert("‡§ï‡•É‡§™‡§Ø‡§æ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡•ã‡§Ç ‡§∏‡•á ‡§∏‡§π‡§Æ‡§§ ‡§π‡•ã‡§Ç‡•§");
                return;
            }
            switchScreen('quiz-screen');
            renderPalette();
            loadQuestion(0);
            startTimer();
        }

        // --- QUIZ LOGIC ---
        function renderPalette() {
            const grid = document.getElementById('palette-grid');
            grid.innerHTML = '';
            questions.forEach((q, i) => {
                const btn = document.createElement('div');
                btn.className = 'pal-btn';
                btn.innerText = i + 1;
                btn.id = `pal-${i}`;
                btn.onclick = () => loadQuestion(i);
                grid.appendChild(btn);
            });
        }

        function loadQuestion(index) {
            currentQIdx = index;
            const q = questions[index];

            document.getElementById('q-num').innerText = index + 1;
            document.getElementById('q-section').innerText = q.type;
            document.getElementById('q-text').innerHTML = q.q;

            // Nav Buttons
            document.getElementById('prev-btn').disabled = index === 0;
            if(index === questions.length - 1) {
                document.getElementById('save-btn').style.display = 'none';
                if(!isReview) document.getElementById('submit-btn').style.display = 'block';
            } else {
                document.getElementById('save-btn').style.display = 'block';
                document.getElementById('submit-btn').style.display = 'none';
            }

            // Render Options
            const area = document.getElementById('options-area');
            area.innerHTML = '';

            q.opt.forEach((optText, i) => {
                const div = document.createElement('div');
                div.className = 'option';
                
                // Selection Logic
                if(userAnswers[index] === i) div.classList.add('selected');

                // Review Mode Logic
                if(isReview) {
                    div.style.pointerEvents = 'none'; // Disable click
                    if(i === q.ans) div.classList.add('correct');
                    if(userAnswers[index] === i && i !== q.ans) div.classList.add('wrong');
                } else {
                    div.onclick = () => selectOption(i);
                }

                div.innerHTML = `<b style="margin-right:10px;">${String.fromCharCode(65+i)}.</b> ${optText}`;
                area.appendChild(div);
            });

            // Update Palette
            updatePaletteUI();

            // Explanation
            const expBox = document.getElementById('explanation-box');
            if(isReview) {
                expBox.style.display = 'block';
                expBox.innerHTML = `<strong>‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞:</strong> Option ${String.fromCharCode(65+q.ans)}<br><br><strong>‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ (Explanation):</strong><br>${q.exp}`;
            } else {
                expBox.style.display = 'none';
            }
        }

        function selectOption(optIndex) {
            if(isReview) return;
            userAnswers[currentQIdx] = optIndex;
            loadQuestion(currentQIdx); // Refresh UI
        }

        function saveAndNext() {
            // Update Palette status
            const btn = document.getElementById(`pal-${currentQIdx}`);
            if(userAnswers[currentQIdx] !== null) {
                btn.classList.add('answered');
            }
            if(currentQIdx < questions.length - 1) loadQuestion(currentQIdx + 1);
        }

        function navQuestion(dir) {
            const newIdx = currentQIdx + dir;
            if(newIdx >= 0 && newIdx < questions.length) loadQuestion(newIdx);
        }

        function updatePaletteUI() {
            document.querySelectorAll('.pal-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`pal-${currentQIdx}`).classList.add('active');
        }

        // --- TIMER ---
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                const m = Math.floor(timeLeft / 60);
                const s = timeLeft % 60;
                document.getElementById('timer').innerText = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
                
                if(timeLeft <= 0) submitExam();
            }, 1000);
        }

        // --- SUBMIT ---
        function submitExam() {
            clearInterval(timerInterval);
            
            // Prevent multiple submissions via localStorage
            if(currentUser && currentUser.id) {
                localStorage.setItem('exam_submitted_' + currentUser.id, 'true');
            }

            let correct = 0;
            let wrong = 0;
            let skipped = 0;

            userAnswers.forEach((ans, i) => {
                if (ans === null) {
                    skipped++;
                } else if (ans === questions[i].ans) {
                    correct++;
                } else {
                    wrong++;
                }
            });

            // Negative Marking Logic (0.33 per wrong)
            const negativeMarks = wrong * 0.33;
            let finalScore = correct - negativeMarks;
            
            // Allow negative score or clamp to 0? Exams usually allow negative.
            // Round to 2 decimals
            finalScore = finalScore.toFixed(2);

            // Update UI
            document.getElementById('res-correct').innerText = correct;
            document.getElementById('res-wrong').innerText = wrong;
            document.getElementById('res-skip').innerText = skipped;
            document.getElementById('final-score').innerText = finalScore;

            const d = new Date();
            document.getElementById('exam-date').innerText = d.toLocaleDateString('hi-IN');
            
            switchScreen('report-screen');
        }

        function reviewSolutions() {
            isReview = true;
            document.querySelector('.cbt-header').style.background = "#5e35b1"; // Change header color for review
            switchScreen('quiz-screen');
            loadQuestion(0);
            
            // Mark palette for review
            document.querySelectorAll('.pal-btn').forEach(b => b.classList.add('reviewed'));
            document.getElementById('save-btn').style.display = 'none'; // Hide Save
            document.getElementById('submit-btn').style.display = 'none'; // Hide Submit
        }

        // Mobile Sidebar Toggle
        function togglePalette() {
            document.getElementById('sidebar').classList.toggle('expanded');
        }

    </script>
</body>
</html>